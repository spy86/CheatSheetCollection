<!DOCTYPE HTML>
<html id="hs-topic-p">
<!-- saved from url=(0025)http://www.helpsmith.com/ -->
<head>
<title>Gerrit</title>
<meta charset="windows-1250" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="generator" content="HelpSmith 8.0 (Build 18.1202)" />
<style type="text/css" media="screen">
html {
  height: 100%;
}
body {
  margin: 0 8px 0 8px;
}
</style>
<link type="text/css" rel="stylesheet" href="../css/topics/style.css" />
<script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="../js/settings.js?1845a896"></script>
<script type="text/javascript" src="../js/core.min.js?392d0f49"></script>
<script type="text/javascript" src="../js/topic.min.js?392d0f49"></script>
<script type="text/javascript">
	var topicContext = 150;
</script>
</head>
<body>
<p class="ps15"><span class="ts3">Tricks</span></p>
<p class="ps8"><span class="ts4">Easily Checkout Changes</span></p>
<p class="ps5"><span class="ts2">Changes correspond to branches with the naming schema &quot;gerrit_&lt;change number&gt;&quot;. So you can</span></p>
<p class="ps9"><span class="ts5">git checkout gerrit_12345</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps8"><span class="ts4">Delete Changes</span></p>
<p class="ps5"><span class="ts2">Sometime you want to delete a change to make it invisible for everyone (for example when you did commit an unencrypted secret...). This is possible only via the SQL interface which you can enter with</span></p>
<p class="ps9"><span class="ts5">ssh &lt;gerrit host&gt;:29418 gerrit gsql</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps10"><span class="ts2">and issue a delete with:</span></p>
<p class="ps9"><span class="ts5">update changes set status='d' where change_id='&lt;change id&gt;';</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps8"><span class="ts4">Search for Commit Text</span></p>
<p class="ps5"><span class="ts2">It is a bit non-obvious to search for text in commit messages. When just searching &quot;message:&quot; no results are given. This is because &quot;status:&quot; auto-defaults to a useless values. So you need to specify &quot;status:&quot; with a useful value:</span></p>
<p class="ps9"><span class="ts5">status:merged message:critical bugfix</span><br /><span class="ts5">status:open&nbsp;&nbsp; message:Patch</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps15"><span class="ts3">Solving Errors</span></p>
<p class="ps8"><span class="ts4">Bad pack header</span></p>
<p class="ps5"><span class="ts2">This happens from time to time if you do not garbage collect and hit the open file limit. To solve: trigger a garbage collection</span></p>
<p class="ps9"><span class="ts5">ssh &lt;gerrit host&gt;:29418 gerrit gc &lt;project name&gt;</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps8"><span class="ts4">Unpack failed: error Missing unknown xxx</span></p>
<p class="ps5"><span class="ts2">Solution here is to abandon the problematic changes. This cannot be done via the GUI and only by admins</span></p>
<p class="ps11"><span class="ts5"># Find Gerrit id</span><br /><span class="ts5">ssh &lt;gerrit hxost&gt;:29418 gerrit query xxx</span><br /><br /><span class="ts5"># Abandon the change</span><br /><span class="ts5">ssh &lt;gerrit host&gt;:29418 gerrit gsql -c &quot;update changes set open='N',status='A' where change_id=&lt;id&gt;;&quot;</span></p>
<p class="ps3"><br /></p>
<div>
  <hr class="hline0" />
</div>
<p class="ps4"><span class="ts1">Created with an evaluation copy of HelpSmith.</span><br /><span class="ts1">To remove this notice, you should </span><a href="http://www.helpsmith.com/buynow.php" target="_blank" class="hs1">purchase the full version</a><span class="ts1">&nbsp;of the product.</span></p>
</body>
</html>