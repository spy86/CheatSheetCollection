<!DOCTYPE HTML>
<html id="hs-topic-p">
<!-- saved from url=(0025)http://www.helpsmith.com/ -->
<head>
<title>sqlite</title>
<meta charset="windows-1250" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="generator" content="HelpSmith 8.0 (Build 18.1202)" />
<style type="text/css" media="screen">
html {
  height: 100%;
}
body {
  margin: 0 8px 0 8px;
}
</style>
<link type="text/css" rel="stylesheet" href="../css/topics/style.css" />
<script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="../js/settings.js?1845a896"></script>
<script type="text/javascript" src="../js/core.min.js?392d0f49"></script>
<script type="text/javascript" src="../js/topic.min.js?392d0f49"></script>
<script type="text/javascript">
	var topicContext = 850;
</script>
</head>
<body>
<p class="ps7"><span class="ts3">CLI</span></p>
<p class="ps5"><span class="ts2">You can access any sqlite database file, as long there is no other client locking it, using the command line client to perform SQL commands:</span></p>
<p class="ps9"><span class="ts5">sqlite3 &lt;database file&gt;</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps7"><span class="ts3">List Schema</span></p>
<p class="ps5"><span class="ts2">To list the schema of a sqlite database run</span></p>
<p class="ps9"><span class="ts5">SELECT name FROM sqlite_master;</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps10"><span class="ts2">It will dump all schema elements. One field of the result table contains the SQL used to create each schema element. If you only want a list of tables use the client command &quot;.tables&quot;</span></p>
<p class="ps9"><span class="ts5">.tables</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps15"><span class="ts3">Exporting</span></p>
<p class="ps8"><span class="ts4">Dump Database as SQL</span></p>
<p class="ps5"><span class="ts2">To dump the entire database content in SQL for example for a backup run:</span></p>
<p class="ps9"><span class="ts5">sqlite3 &lt;database file&gt; .dump &gt;output.sql</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps12"><span class="ts2">See the next sections how to dump a single table or in SQL.</span></p>
<p class="ps8"><span class="ts4">Dump Table as SQL</span></p>
<p class="ps5"><span class="ts2">To dump the SQL to create a table and its values run the command line client using the &quot;.dump&quot; command an redirect the output:</span></p>
<p class="ps9"><span class="ts5">sqlite3 &lt;database file&gt; &quot;.dump &lt;table name&gt;&quot; &gt;output.sql</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps8"><span class="ts4">Dump Table as CSV</span></p>
<p class="ps5"><span class="ts2">To dump the SQL to create a table and its values run the command line client using the &quot;.mode&quot; command to enable CSV output and then to perform a &quot;SELECT&quot; on the table you want to dump. By echoing this to the CLI you can easily redirect the output:</span></p>
<p class="ps9"><span class="ts5">echo &quot;.mode csv</span><br /><span class="ts5">select * from &lt;table name&gt;;&quot; | sqlite3 &gt;output.sql</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps7"><span class="ts3">Cleanup with Vacuum</span></p>
<p class="ps5"><span class="ts2">To run a one time cleanup just run the following command on an sqlite database file. Ensure there is no program accessing the database file. If there is it will fail and do nothing:</span></p>
<p class="ps9"><span class="ts5">sqlite3 my.db &quot;VACUUM;&quot;</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps7"><span class="ts3">Configure Auto-Vacuum</span></p>
<p class="ps5"><span class="ts2">If you want sqlite to perform vacuum on-demand you can set the &quot;auto_vacuum&quot; pragma to either &quot;INCREMENTAL&quot; or &quot;FULL&quot;:</span></p>
<p class="ps9"><span class="ts5">PRAGMA auto_vacuum = INCREMENTAL;</span><br /><span class="ts5">PRAGMA auto_vacuum = FULL;</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps10"><span class="ts2">To quere the current &quot;auto_vacuum setting run</span></p>
<p class="ps9"><span class="ts5">PRAGMA auto_vacuum</span><br /><span class="ts6">&nbsp;</span></p>
<p class="ps10"><span class="ts2">Read more in this </span><a href="/blog/How%20to%20Vacuum%20SQLite" class="hs0">detailed post</a><span class="ts2">&nbsp;about sqlite vacuuming!</span></p>
<p class="ps3"><br /></p>
<div>
  <hr class="hline0" />
</div>
<p class="ps4"><span class="ts1">Created with an evaluation copy of HelpSmith.</span><br /><span class="ts1">To remove this notice, you should </span><a href="http://www.helpsmith.com/buynow.php" target="_blank" class="hs1">purchase the full version</a><span class="ts1">&nbsp;of the product.</span></p>
</body>
</html>